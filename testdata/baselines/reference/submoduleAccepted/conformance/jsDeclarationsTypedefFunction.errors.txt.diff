--- old.jsDeclarationsTypedefFunction.errors.txt
+++ new.jsDeclarationsTypedefFunction.errors.txt
@@= skipped -0, +0 lines =@@
-<no content>
+foo.js(3,10): error TS8010: Type annotations can only be used in TypeScript files.
+foo.js(10,12): error TS8010: Type annotations can only be used in TypeScript files.
+foo.js(11,14): error TS8010: Type annotations can only be used in TypeScript files.
+
+
+==== foo.js (3 errors) ====
+    /**
+     * @typedef {{
+     *   [id: string]: [Function, Function];
+             ~~~~~~~
+!!! error TS8010: Type annotations can only be used in TypeScript files.
+     * }} ResolveRejectMap
+     */
+    
+    let id = 0
+    
+    /**
+     * @param {ResolveRejectMap} handlers
+               ~~~~~~~~~~~~~~~~
+!!! error TS8010: Type annotations can only be used in TypeScript files.
+     * @returns {Promise<any>}
+                 ~~~~~~~~~~~~
+!!! error TS8010: Type annotations can only be used in TypeScript files.
+     */
+    const send = handlers => new Promise((resolve, reject) => {
+      handlers[++id] = [resolve, reject]
+    })